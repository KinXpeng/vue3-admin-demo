import{v as k,T as y}from"./_@vue_runtime-dom@3.3.4@@vue-333a3aa0.js";import{A as m,l as v,n as L,N as b,w as I,V as S,o,H as g,I as M,J as E,c,a as l,F as d,S as V,i as B,L as N}from"./_@vue_runtime-core@3.3.4@@vue-95679d18.js";import{j as T}from"./_@vue_reactivity@3.3.4@@vue-7ec0c22d.js";import{p as u,M as W}from"./_@vue_shared@3.3.4@@vue-bf8f17aa.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const j={class:"el-dropdown-menu"},D=["onClick"],F=m({name:"layoutTagsViewContextmenu"}),z=m({...F,props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},emits:["currentContextmenuClick"],setup(p,{expose:f,emit:x}){const n=p,e=T({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"刷新",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"关闭",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"关闭其它",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"全部关闭",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"当前页全屏",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),r=v(()=>n.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:n.dropdown.y}:n.dropdown),_=t=>{x("currentContextmenuClick",Object.assign({},{contextMenuClickId:t},e.item))},w=t=>{var i;e.item=t,(i=t.meta)!=null&&i.isAffix?e.dropdownList[1].affix=!0:e.dropdownList[1].affix=!1,a(),setTimeout(()=>{e.isShow=!0},10)},a=()=>{e.isShow=!1};return L(()=>{document.body.addEventListener("click",a)}),b(()=>{document.body.removeEventListener("click",a)}),I(()=>n.dropdown,({x:t})=>{t+117>document.documentElement.clientWidth?e.arrowLeft=117-(document.documentElement.clientWidth-t):e.arrowLeft=10},{deep:!0}),f({openContextmenu:w}),(t,i)=>{const C=S("SvgIcon");return o(),g(y,{name:"el-zoom-in-center"},{default:M(()=>[E((o(),c("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:u(`top: ${r.value.y+5}px;left: ${r.value.x}px;`),key:Math.random()},[l("ul",j,[(o(!0),c(d,null,V(e.dropdownList,(s,h)=>(o(),c(d,null,[s.affix?N("",!0):(o(),c("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:h,onClick:A=>_(s.contextMenuClickId)},[B(C,{name:s.icon},null,8,["name"]),l("span",null,W(s.txt),1)],8,D))],64))),256))]),l("div",{class:"el-popper__arrow",style:u({left:`${e.arrowLeft}px`})},null,4)],4)),[[k,e.isShow]])]),_:1})}}});const q=$(z,[["__scopeId","data-v-5b5f05b0"]]);export{q as default};
