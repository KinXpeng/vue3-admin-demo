import{_ as W}from"./index-0e025919.js";import{Q as E}from"./_@element-plus_icons-vue@2.1.0@@element-plus-5b665c84.js";import{p as m,A as R,a0 as F,l as $,n as N,w as j,V as d,o as g,c as T,i as f,I as u,H as G,a as _}from"./_@vue_runtime-core@3.3.4@@vue-95679d18.js";import{r as M,j as U,u as b}from"./_@vue_reactivity@3.3.4@@vue-7ec0c22d.js";import{o as H,M as Q}from"./_@vue_shared@3.3.4@@vue-bf8f17aa.js";import"./_@vue_runtime-dom@3.3.4@@vue-333a3aa0.js";import"./_pinia@2.1.6@pinia-7dcc81d4.js";import"./_vue-demi@0.14.5@vue-demi-71ba0ef2.js";import"./_vue-router@4.2.4@vue-router-2f261a7a.js";import"./_element-plus@2.3.9@element-plus-1f0d90d6.js";import"./_lodash-es@4.17.21@lodash-es-36eb724a.js";import"./_@vueuse_core@9.13.0@@vueuse-b381c12a.js";import"./_@vueuse_shared@9.13.0@@vueuse-e525be63.js";import"./_@sxzz_popperjs-es@2.11.7@@sxzz-c75af06c.js";import"./_@ctrl_tinycolor@3.6.0@@ctrl-f8748455.js";import"./_dayjs@1.11.9@dayjs-d3042338.js";import"./_call-bind@1.0.2@call-bind-2adaad32.js";import"./_get-intrinsic@1.2.1@get-intrinsic-d63970a8.js";import"./_has-symbols@1.0.3@has-symbols-0b1e4796.js";import"./_has-proto@1.0.1@has-proto-eb3a7269.js";import"./_function-bind@1.1.1@function-bind-a5934397.js";import"./_has@1.0.3@has-9a2a5c25.js";import"./_async-validator@4.2.5@async-validator-dee29e8b.js";import"./_memoize-one@6.0.0@memoize-one-297ddbcb.js";import"./_escape-html@1.0.3@escape-html-d5914612.js";import"./_normalize-wheel-es@1.2.0@normalize-wheel-es-ed76fb12.js";import"./_@floating-ui_dom@1.5.1@@floating-ui-9840f9e3.js";import"./_@floating-ui_core@1.4.1@@floating-ui-ba0bb945.js";import"./_@floating-ui_utils@0.1.1@@floating-ui-97c5a6c2.js";import"./_js-cookie@3.0.5@js-cookie-edb2da2a.js";import"./_nprogress@0.2.0@nprogress-3926d3a9.js";import"./_axios@1.4.0@axios-4a70c6fc.js";import"./_qs@6.11.2@qs-d0adad9e.js";import"./_side-channel@1.0.4@side-channel-388bb2db.js";import"./_object-inspect@1.12.3@object-inspect-fcbc4da0.js";import"./_mitt@3.0.1@mitt-f7ef348c.js";const q=()=>new Promise((l,r)=>{m(()=>{const n=document.styleSheets;let t=[],c=[];for(let e=0;e<n.length;e++)n[e].href&&n[e].href.indexOf("at.alicdn.com")>-1&&t.push(n[e]);for(let e=0;e<t.length;e++)for(let i=0;i<t[e].cssRules.length;i++)t[e].cssRules[i].selectorText&&t[e].cssRules[i].selectorText.indexOf(".icon-")>-1&&c.push(`${t[e].cssRules[i].selectorText.substring(1,t[e].cssRules[i].selectorText.length).replace(/\:\:before/gi,"")}`);c.length>0?l(c):r("未获取到值，请刷新重试")})}),J=()=>new Promise((l,r)=>{m(()=>{const n=E,t=[];for(const c in n)t.push(`ele-${n[c].name}`);t.length>0?l(t):r("未获取到值，请刷新重试")})}),K=()=>new Promise((l,r)=>{m(()=>{const n=document.styleSheets;let t=[],c=[];for(let e=0;e<n.length;e++)n[e].href&&n[e].href.indexOf("netdna.bootstrapcdn.com")>-1&&t.push(n[e]);for(let e=0;e<t.length;e++)for(let i=0;i<t[e].cssRules.length;i++)t[e].cssRules[i].selectorText&&t[e].cssRules[i].selectorText.indexOf(".fa-")===0&&t[e].cssRules[i].selectorText.indexOf(",")===-1&&/::before/.test(t[e].cssRules[i].selectorText)&&c.push(`${t[e].cssRules[i].selectorText.substring(1,t[e].cssRules[i].selectorText.length).replace(/\:\:before/gi,"")}`);c.length>0?l(c.reverse()):r("未获取到值，请刷新重试")})}),P={ali:()=>q(),ele:()=>J(),awe:()=>K()};const X={class:"icon-selector w100 h100"},Y={class:"icon-selector-warp"},Z={class:"icon-selector-warp-title"},ee=R({name:"iconSelector"}),We=R({...ee,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(l,{emit:r}){const n=l,t=F(()=>W(()=>import("./list-86d35ea6.js"),["./list-86d35ea6.js","./_@vue_runtime-core@3.3.4@@vue-95679d18.js","./_@vue_reactivity@3.3.4@@vue-7ec0c22d.js","./_@vue_shared@3.3.4@@vue-bf8f17aa.js","./_plugin-vue_export-helper-c27b6911.js","../css/list-2b48e177.css"],import.meta.url)),c=M(),e=U({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),i=()=>{if(!n.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=n.modelValue},C=()=>{const o=v();setTimeout(()=>{o.filter(a=>a===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},I=$(()=>{const o=v();if(!e.fontIconSearch)return o;let s=e.fontIconSearch.trim().toLowerCase();return o.filter(a=>{if(a.toLowerCase().indexOf(s)!==-1)return a})}),v=()=>{let o=[];return e.fontIconTabActive==="ali"?o=e.fontIconList.ali:e.fontIconTabActive==="ele"?o=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(o=e.fontIconList.awe),o},w=()=>{if(n.modelValue==="")return e.fontIconPlaceholder=n.placeholder;e.fontIconPlaceholder=n.modelValue,e.fontIconPrefix=n.modelValue},y=()=>{let o="ali";return n.modelValue.indexOf("iconfont")>-1?o="ali":n.modelValue.indexOf("ele-")>-1?o="ele":n.modelValue.indexOf("fa")>-1&&(o="awe"),e.fontIconTabActive=o,o},V=async o=>{if(o==="ali"){if(e.fontIconList.ali.length>0)return;await P.ali().then(s=>{e.fontIconList.ali=s.map(a=>`iconfont ${a}`)})}else if(o==="ele"){if(e.fontIconList.ele.length>0)return;await P.ele().then(s=>{e.fontIconList.ele=s})}else if(o==="awe"){if(e.fontIconList.awe.length>0)return;await P.awe().then(s=>{e.fontIconList.awe=s.map(a=>`fa ${a}`)})}e.fontIconPlaceholder=n.placeholder,w()},A=o=>{V(o.paneName),c.value.focus()},h=o=>{e.fontIconPlaceholder=o,e.fontIconPrefix=o,r("get",e.fontIconPrefix),r("update:modelValue",e.fontIconPrefix),c.value.focus()},O=()=>{e.fontIconPrefix="",r("clear",e.fontIconPrefix),r("update:modelValue",e.fontIconPrefix)},L=()=>{m(()=>{e.fontIconWidth=c.value.$el.offsetWidth})},k=()=>{window.addEventListener("resize",()=>{L()})};return N(()=>{V(y()),k(),L()}),j(()=>n.modelValue,()=>{w(),y()}),(o,s)=>{const a=d("SvgIcon"),z=d("el-input"),x=d("el-tab-pane"),B=d("el-tabs"),D=d("el-popover");return g(),T("div",X,[f(z,{modelValue:e.fontIconSearch,"onUpdate:modelValue":s[0]||(s[0]=p=>e.fontIconSearch=p),placeholder:e.fontIconPlaceholder,clearable:l.clearable,disabled:l.disabled,size:l.size,ref_key:"inputWidthRef",ref:c,onClear:O,onFocus:i,onBlur:C},{prepend:u(()=>{var p,S;return[(e.fontIconPrefix===""?((p=l.prepend)==null?void 0:p.indexOf("ele-"))>-1:((S=e.fontIconPrefix)==null?void 0:S.indexOf("ele-"))>-1)?(g(),G(a,{key:0,name:e.fontIconPrefix===""?l.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(g(),T("i",{key:1,class:H([e.fontIconPrefix===""?l.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),f(D,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":c.value,"virtual-triggering":""},{default:u(()=>[_("div",Y,[_("div",Z,Q(l.title),1),f(B,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":s[1]||(s[1]=p=>e.fontIconTabActive=p),onTabClick:A},{default:u(()=>[f(x,{lazy:"",label:"ali",name:"ali"},{default:u(()=>[f(b(t),{list:I.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:h},null,8,["list","empty","prefix"])]),_:1}),f(x,{lazy:"",label:"ele",name:"ele"},{default:u(()=>[f(b(t),{list:I.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:h},null,8,["list","empty","prefix"])]),_:1}),f(x,{lazy:"",label:"awe",name:"awe"},{default:u(()=>[f(b(t),{list:I.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:h},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{We as default};
