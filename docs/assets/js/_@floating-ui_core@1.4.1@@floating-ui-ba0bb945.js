import{e as M,g as F,a as S,c as H,b as k,d as Y,f as X,h as z,m as V}from"./_@floating-ui_utils@0.1.1@@floating-ui-97c5a6c2.js";function j(a,i,r){let{reference:e,floating:s}=a;const m=X(i),o=S(i),u=z(o),d=Y(i),f=m==="y",l=e.x+e.width/2-s.width/2,c=e.y+e.height/2-s.height/2,n=e[u]/2-s[u]/2;let t;switch(d){case"top":t={x:l,y:e.y-s.height};break;case"bottom":t={x:l,y:e.y+e.height};break;case"right":t={x:e.x+e.width,y:c};break;case"left":t={x:e.x-s.width,y:c};break;default:t={x:e.x,y:e.y}}switch(k(i)){case"start":t[o]-=n*(r&&f?-1:1);break;case"end":t[o]+=n*(r&&f?-1:1);break}return t}const G=async(a,i,r)=>{const{placement:e="bottom",strategy:s="absolute",middleware:m=[],platform:o}=r,u=m.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(i));let f=await o.getElementRects({reference:a,floating:i,strategy:s}),{x:l,y:c}=j(f,e,d),n=e,t={},g=0;for(let y=0;y<u.length;y++){const{name:p,fn:O}=u[y],{x:w,y:b,data:v,reset:x}=await O({x:l,y:c,initialPlacement:e,placement:n,strategy:s,middlewareData:t,rects:f,platform:o,elements:{reference:a,floating:i}});if(l=w??l,c=b??c,t={...t,[p]:{...t[p],...v}},x&&g<=50){g++,typeof x=="object"&&(x.placement&&(n=x.placement),x.rects&&(f=x.rects===!0?await o.getElementRects({reference:a,floating:i,strategy:s}):x.rects),{x:l,y:c}=j(f,n,d)),y=-1;continue}}return{x:l,y:c,placement:n,strategy:s,middlewareData:t}},I=a=>({name:"arrow",options:a,async fn(i){const{x:r,y:e,placement:s,rects:m,platform:o,elements:u}=i,{element:d,padding:f=0}=M(a,i)||{};if(d==null)return{};const l=F(f),c={x:r,y:e},n=S(s),t=z(n),g=await o.getDimensions(d),y=n==="y",p=y?"top":"left",O=y?"bottom":"right",w=y?"clientHeight":"clientWidth",b=m.reference[t]+m.reference[n]-c[n]-m.floating[t],v=c[n]-m.reference[n],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=x?x[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(x)))&&(A=u.floating[w]||m.floating[t]);const B=b/2-v/2,L=A/2-g[t]/2-1,T=V(l[p],L),D=V(l[O],L),P=T,C=A-g[t]-D,h=A/2-g[t]/2+B,R=H(P,h,C),E=k(s)!=null&&h!=R&&m.reference[t]/2-(h<P?T:D)-g[t]/2<0?h<P?P-h:C-h:0;return{[n]:c[n]-E,data:{[n]:R,centerOffset:h-R+E}}}});async function W(a,i){const{placement:r,platform:e,elements:s}=a,m=await(e.isRTL==null?void 0:e.isRTL(s.floating)),o=Y(r),u=k(r),d=X(r)==="y",f=["left","top"].includes(o)?-1:1,l=m&&d?-1:1,c=M(i,a);let{mainAxis:n,crossAxis:t,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return u&&typeof g=="number"&&(t=u==="end"?g*-1:g),d?{x:t*l,y:n*f}:{x:n*f,y:t*l}}const J=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(i){const{x:r,y:e}=i,s=await W(i,a);return{x:r+s.x,y:e+s.y,data:s}}}};export{I as a,G as c,J as o};
